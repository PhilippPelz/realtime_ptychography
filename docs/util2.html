---

title: Title


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/04_util2.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/04_util2.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="rel_dist" class="doc_header"><code>rel_dist</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1640" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>rel_dist</code>(<strong><code>z</code></strong>, <strong><code>x</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="R_factor" class="doc_header"><code>R_factor</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1651" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>R_factor</code>(<strong><code>z</code></strong>, <strong><code>a</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="sgn" class="doc_header"><code>sgn</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1655" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>sgn</code>(<strong><code>x</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cangle" class="doc_header"><code>cangle</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1666" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cangle</code>(<strong><code>x</code></strong>:<code>Tensor</code>, <strong><code>deg</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="complex_numpy" class="doc_header"><code>complex_numpy</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1799" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>complex_numpy</code>(<strong><code>x</code></strong>:<code>Tensor</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cx_from_numpy" class="doc_header"><code>cx_from_numpy</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1678" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cx_from_numpy</code>(<strong><code>x</code></strong>:<code>array</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="make_real" class="doc_header"><code>make_real</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1772" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>make_real</code>(<strong><code>x</code></strong>:<code>Tensor</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="make_imag" class="doc_header"><code>make_imag</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1701" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>make_imag</code>(<strong><code>x</code></strong>:<code>Tensor</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="complex_polar" class="doc_header"><code>complex_polar</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1708" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>complex_polar</code>(<strong><code>r</code></strong>:<code>Tensor</code>, <strong><code>angle</code></strong>:<code>Tensor</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="complex_expi" class="doc_header"><code>complex_expi</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1779" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>complex_expi</code>(<strong><code>x</code></strong>:<code>Tensor</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="complex_exp" class="doc_header"><code>complex_exp</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1720" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>complex_exp</code>(<strong><code>x</code></strong>:<code>Tensor</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="complex_mul" class="doc_header"><code>complex_mul</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1841" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>complex_mul</code>(<strong><code>a</code></strong>:<code>Tensor</code>, <strong><code>b</code></strong>:<code>Tensor</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="complex_mul_conj" class="doc_header"><code>complex_mul_conj</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1740" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>complex_mul_conj</code>(<strong><code>a</code></strong>:<code>Tensor</code>, <strong><code>b</code></strong>:<code>Tensor</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="complex_mul_real" class="doc_header"><code>complex_mul_real</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1785" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>complex_mul_real</code>(<strong><code>a</code></strong>:<code>Tensor</code>, <strong><code>b</code></strong>:<code>Tensor</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="complex_div" class="doc_header"><code>complex_div</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1762" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>complex_div</code>(<strong><code>complex_tensor1</code></strong>, <strong><code>complex_tensor2</code></strong>)</p>
</blockquote>
<p>Compute element-wise division between complex tensors</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="make_real" class="doc_header"><code>make_real</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1772" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>make_real</code>(<strong><code>x</code></strong>:<code>Tensor</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="complex_expi" class="doc_header"><code>complex_expi</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1779" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>complex_expi</code>(<strong><code>x</code></strong>:<code>Tensor</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="complex_mul_real" class="doc_header"><code>complex_mul_real</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1785" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>complex_mul_real</code>(<strong><code>a</code></strong>:<code>Tensor</code>, <strong><code>b</code></strong>:<code>Tensor</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="iscomplex" class="doc_header"><code>iscomplex</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1794" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>iscomplex</code>(<strong><code>a</code></strong>:<code>Tensor</code>)</p>
</blockquote>
<p>Return True if a is complex, False otherwise.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="complex_numpy" class="doc_header"><code>complex_numpy</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1799" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>complex_numpy</code>(<strong><code>x</code></strong>:<code>Tensor</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="check_complex" class="doc_header"><code>check_complex</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1804" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>check_complex</code>(<strong><code>A</code></strong>)</p>
</blockquote>
<p>Raise a RuntimeWarning if tensor A is not complex.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="complex_matmul_conj" class="doc_header"><code>complex_matmul_conj</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1814" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>complex_matmul_conj</code>(<strong><code>a</code></strong>, <strong><code>b</code></strong>, <strong><code>conjugate</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>Complex matrix multiplication of tensors a and b.</p>
<p>Pass conjugate = True to conjugate tensor b in the multiplication.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ScriptFunction object at 0x7f8411f01a40>" class="doc_header"><code>ScriptFunction object at 0x7f8411f01a40></code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ScriptFunction object at 0x7f8411f01a40></code>()</p>
</blockquote>
<p>Complex matrix multiplication of tensors a and b.</p>
<p>Pass conjugate = True to conjugate tensor b in the multiplication.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="complex_mul" class="doc_header"><code>complex_mul</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1841" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>complex_mul</code>(<strong><code>a</code></strong>:<code>Tensor</code>, <strong><code>b</code></strong>:<code>Tensor</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="conj" class="doc_header"><code>conj</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1854" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>conj</code>(<strong><code>a</code></strong>:<code>Tensor</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ComplexMul" class="doc_header"><code>class</code> <code>ComplexMul</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1862" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ComplexMul</code>() :: <code>Function</code></p>
</blockquote>
<p>Complex multiplication class for autograd</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ComplexAbs" class="doc_header"><code>class</code> <code>ComplexAbs</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1887" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ComplexAbs</code>() :: <code>Function</code></p>
</blockquote>
<p>Absolute value class for autograd</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ComplexAbs2" class="doc_header"><code>class</code> <code>ComplexAbs2</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1909" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ComplexAbs2</code>() :: <code>Function</code></p>
</blockquote>
<p>Absolute value squared class for autograd</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ComplexExp" class="doc_header"><code>class</code> <code>ComplexExp</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1929" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ComplexExp</code>() :: <code>Function</code></p>
</blockquote>
<p>Complex exponential class for autograd</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

