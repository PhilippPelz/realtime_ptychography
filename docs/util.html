---

title: Title


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/04_util.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/04_util.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="focused_probe" class="doc_header"><code>focused_probe</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L23" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>focused_probe</code>(<strong><code>E</code></strong>, <strong><code>N</code></strong>, <strong><code>d</code></strong>, <strong><code>alpha_rad</code></strong>, <strong><code>defocus_nm</code></strong>, <strong><code>det_pix</code></strong>=<em><code>4e-05</code></em>, <strong><code>C3_um</code></strong>=<em><code>1000</code></em>, <strong><code>C5_mm</code></strong>=<em><code>1</code></em>, <strong><code>tx</code></strong>=<em><code>0</code></em>, <strong><code>ty</code></strong>=<em><code>0</code></em>, <strong><code>Nedge</code></strong>=<em><code>15</code></em>, <strong><code>aperture</code></strong>=<em><code>True</code></em>, <strong><code>plot</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Param" class="doc_header"><code>class</code> <code>Param</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L146" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Param</code>(<strong><code>__d__</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>dict</code></p>
</blockquote>
<p>Convenience class: a dictionary that gives access to its keys
through attributes.</p>
<p>Note: dictionaries stored in this class are also automatically converted
to Param objects:</p>
<blockquote><blockquote><blockquote><p>p = Param()
p.x = {}
p
Param({})</p>
</blockquote>
</blockquote>
</blockquote>
<p>While dict(p) returns a dictionary, it is not recursive, so it is better in this case
to use p.todict(). However, p.todict does not check for infinite recursion. So please
don't store a dictionary (or a Param) inside itself.</p>
<p>BE: Please note also that the recursive behavior of the update function will create
new references. This will lead inconsistency if other objects refer to dicts or Params
in the updated Param instance.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="fftshift_checkerboard" class="doc_header"><code>fftshift_checkerboard</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L329" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>fftshift_checkerboard</code>(<strong><code>w</code></strong>, <strong><code>h</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ZernikeProbeSingle" class="doc_header"><code>class</code> <code>ZernikeProbeSingle</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L334" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ZernikeProbeSingle</code>(<strong><code>q</code></strong>:<code>Tensor</code>, <strong><code>lam</code></strong>, <strong><code>fft_shifted</code></strong>=<em><code>True</code></em>) :: <code>Module</code></p>
</blockquote>
<p>Base class for all neural network modules.</p>
<p>Your models should also subclass this class.</p>
<p>Modules can also contain other Modules, allowing to nest them in
a tree structure. You can assign the submodules as regular attributes::</p>

<pre><code>import torch.nn as nn
import torch.nn.functional as F

class Model(nn.Module):
    def __init__(self):
        super(Model, self).__init__()
        self.conv1 = nn.Conv2d(1, 20, 5)
        self.conv2 = nn.Conv2d(20, 20, 5)

    def forward(self, x):
        x = F.relu(self.conv1(x))
        return F.relu(self.conv2(x))

</code></pre>
<p>Submodules assigned in this way will be registered, and will have their
parameters converted too when you call :meth:<code>to</code>, etc.</p>
<p>:ivar training: Boolean represents whether this module is in training or
                evaluation mode.
:vartype training: bool</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="aperture" class="doc_header"><code>aperture</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L363" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>aperture</code>(<strong><code>q</code></strong>:<code>Tensor</code>, <strong><code>lam</code></strong>, <strong><code>alpha_max</code></strong>, <strong><code>edge</code></strong>=<em><code>2</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cartesian_aberrations" class="doc_header"><code>cartesian_aberrations</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L378" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cartesian_aberrations</code>(<strong><code>qx</code></strong>, <strong><code>qy</code></strong>, <strong><code>lam</code></strong>, <strong><code>C</code></strong>)</p>
</blockquote>
<p>Zernike polynomials in the cartesian coordinate system
:param qx:
:param qy:
:param lam: wavelength in Angstrom
:param C:   12 x D
:return:</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cartesian_aberrations_single" class="doc_header"><code>cartesian_aberrations_single</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L448" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cartesian_aberrations_single</code>(<strong><code>qx</code></strong>, <strong><code>qy</code></strong>, <strong><code>lam</code></strong>, <strong><code>C</code></strong>)</p>
</blockquote>
<p>Zernike polynomials in the cartesian coordinate system
:param qx:
:param qy:
:param lam: wavelength in Angstrom
:param C:   (12 ,)
:return:</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="single_sideband_reconstruction" class="doc_header"><code>single_sideband_reconstruction</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L521" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>single_sideband_reconstruction</code>(<strong><code>G</code></strong>, <strong><code>Qx_all</code></strong>, <strong><code>Qy_all</code></strong>, <strong><code>Kx_all</code></strong>, <strong><code>Ky_all</code></strong>, <strong><code>aberrations</code></strong>, <strong><code>theta_rot</code></strong>, <strong><code>alpha_rad</code></strong>, <strong><code>Ψ_Qp</code></strong>, <strong><code>Ψ_Qp_left_sb</code></strong>, <strong><code>Ψ_Qp_right_sb</code></strong>, <strong><code>eps</code></strong>, <strong><code>lam</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dispatcher object at 0x7fae510b3d60>" class="doc_header"><code>Dispatcher object at 0x7fae510b3d60></code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dispatcher object at 0x7fae510b3d60></code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>CUDA Dispatcher object. When configured and called, the dispatcher will
specialize itself for the given arguments (if no suitable specialized
version already exists) &amp; compute capability, and launch on the device
associated with the current context.</p>
<p>Dispatcher objects are not to be constructed by the user, but instead are
created using the :func:<code>numba.cuda.jit</code> decorator.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="sector_mask" class="doc_header"><code>sector_mask</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L679" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>sector_mask</code>(<strong><code>shape</code></strong>, <strong><code>centre</code></strong>, <strong><code>radius</code></strong>, <strong><code>angle_range</code></strong>=<em><code>(0, 360)</code></em>)</p>
</blockquote>
<p>Return a boolean mask for a circular sector. The start/stop angles in
<code>angle_range</code> should be given in clockwise order.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="HSV_to_RGB" class="doc_header"><code>HSV_to_RGB</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L708" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>HSV_to_RGB</code>(<strong><code>cin</code></strong>)</p>
</blockquote>
<p>HSV to RGB transformation.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="zplot" class="doc_header"><code>zplot</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L736" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>zplot</code>(<strong><code>imgs</code></strong>, <strong><code>suptitle</code></strong>=<em><code>'Image'</code></em>, <strong><code>savePath</code></strong>=<em><code>None</code></em>, <strong><code>cmap</code></strong>=<em><code>['hot', 'hsv']</code></em>, <strong><code>title</code></strong>=<em><code>['Abs', 'Phase']</code></em>, <strong><code>show</code></strong>=<em><code>True</code></em>, <strong><code>figsize</code></strong>=<em><code>(9, 5)</code></em>, <strong><code>scale</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="plotAbsAngle" class="doc_header"><code>plotAbsAngle</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L785" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>plotAbsAngle</code>(<strong><code>img</code></strong>, <strong><code>suptitle</code></strong>=<em><code>'Image'</code></em>, <strong><code>savePath</code></strong>=<em><code>None</code></em>, <strong><code>cmap</code></strong>=<em><code>['gray', 'gray']</code></em>, <strong><code>title</code></strong>=<em><code>['Abs', 'Phase']</code></em>, <strong><code>show</code></strong>=<em><code>True</code></em>, <strong><code>figsize</code></strong>=<em><code>(10, 10)</code></em>, <strong><code>scale</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="plotcxmosaic" class="doc_header"><code>plotcxmosaic</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L802" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>plotcxmosaic</code>(<strong><code>img</code></strong>, <strong><code>title</code></strong>=<em><code>'Image'</code></em>, <strong><code>savePath</code></strong>=<em><code>None</code></em>, <strong><code>cmap</code></strong>=<em><code>'hot'</code></em>, <strong><code>show</code></strong>=<em><code>True</code></em>, <strong><code>figsize</code></strong>=<em><code>(10, 10)</code></em>, <strong><code>vmax</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="plotcxmosaic" class="doc_header"><code>plotcxmosaic</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L802" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>plotcxmosaic</code>(<strong><code>img</code></strong>, <strong><code>title</code></strong>=<em><code>'Image'</code></em>, <strong><code>savePath</code></strong>=<em><code>None</code></em>, <strong><code>cmap</code></strong>=<em><code>'hot'</code></em>, <strong><code>show</code></strong>=<em><code>True</code></em>, <strong><code>figsize</code></strong>=<em><code>(10, 10)</code></em>, <strong><code>vmax</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="plotmosaic" class="doc_header"><code>plotmosaic</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L814" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>plotmosaic</code>(<strong><code>img</code></strong>, <strong><code>title</code></strong>=<em><code>'Image'</code></em>, <strong><code>savePath</code></strong>=<em><code>None</code></em>, <strong><code>cmap</code></strong>=<em><code>'hot'</code></em>, <strong><code>show</code></strong>=<em><code>True</code></em>, <strong><code>figsize</code></strong>=<em><code>(10, 10)</code></em>, <strong><code>vmax</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="plot" class="doc_header"><code>plot</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L828" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>plot</code>(<strong><code>img</code></strong>, <strong><code>title</code></strong>=<em><code>'Image'</code></em>, <strong><code>savePath</code></strong>=<em><code>None</code></em>, <strong><code>cmap</code></strong>=<em><code>'inferno'</code></em>, <strong><code>show</code></strong>=<em><code>True</code></em>, <strong><code>vmax</code></strong>=<em><code>None</code></em>, <strong><code>figsize</code></strong>=<em><code>(10, 10)</code></em>, <strong><code>scale</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="mosaic" class="doc_header"><code>mosaic</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L855" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>mosaic</code>(<strong><code>data</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="P1A_to_HSV" class="doc_header"><code>P1A_to_HSV</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L870" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>P1A_to_HSV</code>(<strong><code>cin</code></strong>, <strong><code>vmin</code></strong>=<em><code>None</code></em>, <strong><code>vmax</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Transform a complex array into an RGB image,
mapping phase to hue, amplitude to value and
keeping maximum saturation.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="imsave" class="doc_header"><code>imsave</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L889" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>imsave</code>(<strong><code>a</code></strong>, <strong><code>filename</code></strong>=<em><code>None</code></em>, <strong><code>vmin</code></strong>=<em><code>None</code></em>, <strong><code>vmax</code></strong>=<em><code>None</code></em>, <strong><code>cmap</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>imsave(a) converts array a into, and returns a PIL image
imsave(a, filename) returns the image and also saves it to filename
imsave(a, ..., vmin=vmin, vmax=vmax) clips the array to values between vmin and vmax.
imsave(a, ..., cmap=cmap) uses a matplotlib colormap.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="plot_complex_multi" class="doc_header"><code>plot_complex_multi</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L923" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>plot_complex_multi</code>(<strong><code>x</code></strong>, <strong><code>title</code></strong>=<em><code>'_'</code></em>, <strong><code>figsize</code></strong>=<em><code>(10, 10)</code></em>, <strong><code>savePath</code></strong>=<em><code>None</code></em>, <strong><code>scale</code></strong>=<em><code>None</code></em>, <strong><code>show</code></strong>=<em><code>True</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="plotcx" class="doc_header"><code>plotcx</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L964" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>plotcx</code>(<strong><code>x</code></strong>, <strong><code>title</code></strong>=<em><code>'Image'</code></em>, <strong><code>figsize</code></strong>=<em><code>(10, 10)</code></em>, <strong><code>savePath</code></strong>=<em><code>None</code></em>, <strong><code>scale</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="disk_overlap_function" class="doc_header"><code>disk_overlap_function</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L989" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>disk_overlap_function</code>(<strong><code>Qx_all</code></strong>, <strong><code>Qy_all</code></strong>, <strong><code>Kx_all</code></strong>, <strong><code>Ky_all</code></strong>, <strong><code>aberrations</code></strong>, <strong><code>theta_rot</code></strong>, <strong><code>alpha</code></strong>, <strong><code>lam</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dispatcher object at 0x7fae510529a0>" class="doc_header"><code>Dispatcher object at 0x7fae510529a0></code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dispatcher object at 0x7fae510529a0></code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>CUDA Dispatcher object. When configured and called, the dispatcher will
specialize itself for the given arguments (if no suitable specialized
version already exists) &amp; compute capability, and launch on the device
associated with the current context.</p>
<p>Dispatcher objects are not to be constructed by the user, but instead are
created using the :func:<code>numba.cuda.jit</code> decorator.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="wavelength" class="doc_header"><code>wavelength</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1111" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>wavelength</code>(<strong><code>E_eV</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="DOF" class="doc_header"><code>DOF</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1118" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>DOF</code>(<strong><code>alpha</code></strong>, <strong><code>E_eV</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_qx_qy_1D" class="doc_header"><code>get_qx_qy_1D</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1131" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_qx_qy_1D</code>(<strong><code>M</code></strong>, <strong><code>dx</code></strong>, <strong><code>dtype</code></strong>, <strong><code>fft_shifted</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_qx_qy_2D" class="doc_header"><code>get_qx_qy_2D</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1140" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_qx_qy_2D</code>(<strong><code>M</code></strong>, <strong><code>dx</code></strong>, <strong><code>dtype</code></strong>, <strong><code>fft_shifted</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_qx_qy_1D_th" class="doc_header"><code>get_qx_qy_1D_th</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1149" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_qx_qy_1D_th</code>(<strong><code>M</code></strong>, <strong><code>dx</code></strong>, <strong><code>dtype</code></strong>, <strong><code>fft_shifted</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_qx_qy_2D_th" class="doc_header"><code>get_qx_qy_2D_th</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1157" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_qx_qy_2D_th</code>(<strong><code>M</code></strong>, <strong><code>dx</code></strong>, <strong><code>dtype</code></strong>, <strong><code>fft_shifted</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dispatcher object at 0x7fae51052a40>" class="doc_header"><code>Dispatcher object at 0x7fae51052a40></code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dispatcher object at 0x7fae51052a40></code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>CUDA Dispatcher object. When configured and called, the dispatcher will
specialize itself for the given arguments (if no suitable specialized
version already exists) &amp; compute capability, and launch on the device
associated with the current context.</p>
<p>Dispatcher objects are not to be constructed by the user, but instead are
created using the :func:<code>numba.cuda.jit</code> decorator.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dispatcher object at 0x7fae51052ae0>" class="doc_header"><code>Dispatcher object at 0x7fae51052ae0></code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dispatcher object at 0x7fae51052ae0></code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>CUDA Dispatcher object. When configured and called, the dispatcher will
specialize itself for the given arguments (if no suitable specialized
version already exists) &amp; compute capability, and launch on the device
associated with the current context.</p>
<p>Dispatcher objects are not to be constructed by the user, but instead are
created using the :func:<code>numba.cuda.jit</code> decorator.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="sparse_to_dense_datacube_crop" class="doc_header"><code>sparse_to_dense_datacube_crop</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1203" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>sparse_to_dense_datacube_crop</code>(<strong><code>indices</code></strong>, <strong><code>counts</code></strong>, <strong><code>scan_dimensions</code></strong>, <strong><code>frame_dimensions</code></strong>, <strong><code>center</code></strong>, <strong><code>radius</code></strong>, <strong><code>bin</code></strong>=<em><code>1</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># center, radius = sm.util.determine_center_and_radius(data, manual=False) </span>


<span class="c1"># import cupy as cp</span>
<span class="c1"># import numpy as np</span>
<span class="c1"># from skimage.filters import gaussian</span>
<span class="c1"># from matplotlib.patches import Circle</span>
<span class="c1"># </span>
<span class="c1"># </span>
<span class="c1"># sh = np.concatenate([d.scan_dimensions,d.frame_dimensions])</span>
<span class="c1"># size = 25</span>
<span class="c1"># c = np.zeros((2,))</span>
<span class="c1"># c[:] = (sh[-1] // 2, sh[-2] // 2)</span>
<span class="c1"># radius = np.ones((1,)) * sh[-1] // 2  </span>
<span class="c1"># # frames, scan_dimensions, frame_dimensions, center, radius, bin=1</span>
<span class="c1"># dc_subset = sparse_to_dense_datacube_crop(cp.array(d.frames[:size, :size].astype(np.uint32)), (size,size), d.frame_dimensions, c, radius, bin=1)</span>
<span class="c1"># dcs = cp.sum(dc_subset, (0, 1))</span>
<span class="c1"># m1 = dcs.get()</span>
<span class="c1"># m = (gaussian(m1.astype(np.float32),2) &gt; m1.max() * 2e-1).astype(np.float)</span>
<span class="c1"># r, y0, x0 = get_probe_size(m)</span>
<span class="c1"># </span>
<span class="c1"># fig, ax = plt.subplots(figsize=(10,10))</span>
<span class="c1"># ax.matshow(m1)</span>
<span class="c1"># ax.scatter(x0,y0, s=10, c=&#39;r&#39;)</span>
<span class="c1"># c = Circle((x0,y0),r, fill=None)</span>
<span class="c1"># ax.add_patch(c)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dispatcher object at 0x7fae51052b80>" class="doc_header"><code>Dispatcher object at 0x7fae51052b80></code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dispatcher object at 0x7fae51052b80></code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>CUDA Dispatcher object. When configured and called, the dispatcher will
specialize itself for the given arguments (if no suitable specialized
version already exists) &amp; compute capability, and launch on the device
associated with the current context.</p>
<p>Dispatcher objects are not to be constructed by the user, but instead are
created using the :func:<code>numba.cuda.jit</code> decorator.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="sparse_to_dense_datacube_crop_gain_mask" class="doc_header"><code>sparse_to_dense_datacube_crop_gain_mask</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1256" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>sparse_to_dense_datacube_crop_gain_mask</code>(<strong><code>indices</code></strong>, <strong><code>counts</code></strong>, <strong><code>scan_dimensions</code></strong>, <strong><code>frame_dimensions</code></strong>, <strong><code>center_data</code></strong>, <strong><code>radius_data</code></strong>, <strong><code>radius_max</code></strong>, <strong><code>binning</code></strong>=<em><code>1</code></em>, <strong><code>fftshift</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="sparse_to_dense_datacube" class="doc_header"><code>sparse_to_dense_datacube</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1305" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>sparse_to_dense_datacube</code>(<strong><code>indices</code></strong>, <strong><code>counts</code></strong>, <strong><code>scan_dimensions</code></strong>, <strong><code>frame_dimensions</code></strong>, <strong><code>center_data</code></strong>, <strong><code>radius_data</code></strong>, <strong><code>radius_max</code></strong>, <strong><code>binning</code></strong>=<em><code>1</code></em>, <strong><code>fftshift</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dispatcher object at 0x7fae51052c20>" class="doc_header"><code>Dispatcher object at 0x7fae51052c20></code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dispatcher object at 0x7fae51052c20></code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>CUDA Dispatcher object. When configured and called, the dispatcher will
specialize itself for the given arguments (if no suitable specialized
version already exists) &amp; compute capability, and launch on the device
associated with the current context.</p>
<p>Dispatcher objects are not to be constructed by the user, but instead are
created using the :func:<code>numba.cuda.jit</code> decorator.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dispatcher object at 0x7fae51052cc0>" class="doc_header"><code>Dispatcher object at 0x7fae51052cc0></code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dispatcher object at 0x7fae51052cc0></code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>CUDA Dispatcher object. When configured and called, the dispatcher will
specialize itself for the given arguments (if no suitable specialized
version already exists) &amp; compute capability, and launch on the device
associated with the current context.</p>
<p>Dispatcher objects are not to be constructed by the user, but instead are
created using the :func:<code>numba.cuda.jit</code> decorator.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dispatcher object at 0x7fae51052d60>" class="doc_header"><code>Dispatcher object at 0x7fae51052d60></code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dispatcher object at 0x7fae51052d60></code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>CUDA Dispatcher object. When configured and called, the dispatcher will
specialize itself for the given arguments (if no suitable specialized
version already exists) &amp; compute capability, and launch on the device
associated with the current context.</p>
<p>Dispatcher objects are not to be constructed by the user, but instead are
created using the :func:<code>numba.cuda.jit</code> decorator.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dispatcher object at 0x7fae51052e00>" class="doc_header"><code>Dispatcher object at 0x7fae51052e00></code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dispatcher object at 0x7fae51052e00></code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>CUDA Dispatcher object. When configured and called, the dispatcher will
specialize itself for the given arguments (if no suitable specialized
version already exists) &amp; compute capability, and launch on the device
associated with the current context.</p>
<p>Dispatcher objects are not to be constructed by the user, but instead are
created using the :func:<code>numba.cuda.jit</code> decorator.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="crop_symmetric_around_center" class="doc_header"><code>crop_symmetric_around_center</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1411" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>crop_symmetric_around_center</code>(<strong><code>old_frames</code></strong>, <strong><code>old_frame_dimensions</code></strong>, <strong><code>center_data</code></strong>, <strong><code>max_radius</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dispatcher object at 0x7fae51052ea0>" class="doc_header"><code>Dispatcher object at 0x7fae51052ea0></code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dispatcher object at 0x7fae51052ea0></code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>CUDA Dispatcher object. When configured and called, the dispatcher will
specialize itself for the given arguments (if no suitable specialized
version already exists) &amp; compute capability, and launch on the device
associated with the current context.</p>
<p>Dispatcher objects are not to be constructed by the user, but instead are
created using the :func:<code>numba.cuda.jit</code> decorator.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="rotate" class="doc_header"><code>rotate</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1459" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>rotate</code>(<strong><code>frames</code></strong>, <strong><code>old_frame_dimensions</code></strong>, <strong><code>center</code></strong>, <strong><code>angle_rad</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dispatcher object at 0x7fae51052f40>" class="doc_header"><code>Dispatcher object at 0x7fae51052f40></code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dispatcher object at 0x7fae51052f40></code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>CUDA Dispatcher object. When configured and called, the dispatcher will
specialize itself for the given arguments (if no suitable specialized
version already exists) &amp; compute capability, and launch on the device
associated with the current context.</p>
<p>Dispatcher objects are not to be constructed by the user, but instead are
created using the :func:<code>numba.cuda.jit</code> decorator.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="sum_frames" class="doc_header"><code>sum_frames</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1489" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>sum_frames</code>(<strong><code>frames</code></strong>, <strong><code>counts</code></strong>, <strong><code>frame_dimensions</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dispatcher object at 0x7fae5100d040>" class="doc_header"><code>Dispatcher object at 0x7fae5100d040></code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dispatcher object at 0x7fae5100d040></code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>CUDA Dispatcher object. When configured and called, the dispatcher will
specialize itself for the given arguments (if no suitable specialized
version already exists) &amp; compute capability, and launch on the device
associated with the current context.</p>
<p>Dispatcher objects are not to be constructed by the user, but instead are
created using the :func:<code>numba.cuda.jit</code> decorator.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="array_split_divpoints_ntotal" class="doc_header"><code>array_split_divpoints_ntotal</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1530" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>array_split_divpoints_ntotal</code>(<strong><code>Ntotal</code></strong>, <strong><code>indices_or_sections</code></strong>)</p>
</blockquote>
<p>Split an array into multiple sub-arrays.
Please refer to the <code>split</code> documentation.  The only difference
between these functions is that <code>array_split</code> allows
<code>indices_or_sections</code> to be an integer that does <em>not</em> equally
divide the axis. For an array of length l that should be split
into n sections, it returns l % n sub-arrays of size l//n + 1
and the rest of size l//n.</p>
<h2 id="See-Also">See Also<a class="anchor-link" href="#See-Also"> </a></h2><p>split : Split array into multiple sub-arrays of equal size.</p>
<h2 id="Examples">Examples<a class="anchor-link" href="#Examples"> </a></h2><blockquote><blockquote><blockquote><p>x = np.arange(8.0)
np.array_split(x, 3)
    [array([0.,  1.,  2.]), array([3.,  4.,  5.]), array([6.,  7.])]
x = np.arange(7.0)
np.array_split(x, 3)
    [array([0.,  1.,  2.]), array([3.,  4.]), array([5.,  6.])]</p>
</blockquote>
</blockquote>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dispatcher object at 0x7fae5100d0e0>" class="doc_header"><code>Dispatcher object at 0x7fae5100d0e0></code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dispatcher object at 0x7fae5100d0e0></code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>CUDA Dispatcher object. When configured and called, the dispatcher will
specialize itself for the given arguments (if no suitable specialized
version already exists) &amp; compute capability, and launch on the device
associated with the current context.</p>
<p>Dispatcher objects are not to be constructed by the user, but instead are
created using the :func:<code>numba.cuda.jit</code> decorator.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="advanced_raster_scan" class="doc_header"><code>advanced_raster_scan</code><a href="https://github.com/s-matrix/realtime_ptycho/tree/master/realtime_ptycho/util.py#L1585" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>advanced_raster_scan</code>(<strong><code>ny</code></strong>=<em><code>10</code></em>, <strong><code>nx</code></strong>=<em><code>10</code></em>, <strong><code>fast_axis</code></strong>=<em><code>1</code></em>, <strong><code>mirror</code></strong>=<em><code>[1, 1]</code></em>, <strong><code>theta</code></strong>=<em><code>0</code></em>, <strong><code>dy</code></strong>=<em><code>1</code></em>, <strong><code>dx</code></strong>=<em><code>1</code></em>)</p>
</blockquote>
<p>Generates as raster scan.</p>
<h2 id="Parameters">Parameters<a class="anchor-link" href="#Parameters"> </a></h2><p>ny, nx : int
    Number of steps in <em>y</em> (vertical) and <em>x</em> (horizontal) direction
    <em>x</em> is the fast axis</p>
<p>dy, dx : float
    Step size (grid spacinf) in <em>y</em> and <em>x</em></p>
<h2 id="Returns">Returns<a class="anchor-link" href="#Returns"> </a></h2><p>pos : ndarray
    A (N,2)-array of positions.</p>
<h2 id="Examples">Examples<a class="anchor-link" href="#Examples"> </a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

